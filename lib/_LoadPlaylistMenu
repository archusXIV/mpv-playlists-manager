#!/bin/bash
## This is a part of main script: mpm.

# shellcheck disable=SC2154
_LoadPlaylistMenu() {

    while true; do

        _ResizeWindow
        clear
        __
        [[ $direct_download = yes ]] && printf '%s\n' " ${task}Direct download enabled.${nc}"
        __
        echo " ${info}$list: $(grep -v -c '#EXTM3U' "$list") url(s).${nc}"
        __
        echo -e "                                                 ${mtitle}::Download options::${nc}"
        echo -e "                                 ┌───────────────────────────────────────────────────┐"
        echo -e "                                 │     1) Choose playlist links & download ${info}audio${nc}     │"
        echo -e "                                 │     2) Choose playlist links & download ${info}video${nc}     │"
        echo -e "                                 │     3) Download whole playlist as ${info}audio${nc} files     │"
        echo -e "                                 │     4) Download whole playlist as ${info}video${nc} files     │"
        echo -e "                                 │     5) Back to main menu                          │"
        echo -e "                                 └───────────────────────────────────────────────────┘"
        echo -e "                                                   ${info}${b}Select an item${nb}${nc}"
        __
        read -rsn 1 options
        case "$options" in
            1) _ChooseDownloadAudio ;;
            2) _ChooseDownloadVideo ;;
            3) _GetAudio -l ;;
            4) _DownloadVideo ;;
            5) _Menu ;;
        esac
    done

}
