#!/bin/bash
## This is a part of main script: mpm.

# shellcheck disable=SC2154
_TitlesListCompare() {

    local titles
    titles="$titles_dir/$list.titles"
    titles="${titles##*/}"
    # first test if "myplaylist".titles exist.
    if [[ -f $titles_dir/$list.titles ]]; then

        if (( $(grep "" -c "$titles_dir/$list.titles") \
            != $(_GetLinesList -l) )); then
            __
            printf '%s\n' " ${critical}${titles} is out of date...${nc}" \
            " ${task}${b}Updating titles...please wait.${nb}${nc}"
            _GetMediaTitle -l > "$titles_dir"/"$list".titles
            clear
        fi
        __
        echo -e " ${info}Titles for $list.${nc}\n"
        cat -n "$titles_dir"/"$list".titles
        __

    else
        printf '%s\n' " ${critical}${titles} does not exist...${nc}" \
        " ${task}${b}Getting titles...please wait.${nb}${nc}"
        _GetMediaTitle -l > "$titles_dir"/"$list".titles
        clear
        __
        echo -e " ${info}Titles for $list.${nc}\n"
        cat -n "$titles_dir"/"$list".titles
        __

    fi

}
