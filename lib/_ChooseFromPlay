#!/bin/bash
## This is a part of main script: mpm.

# shellcheck disable=SC2154
_ChooseFromPlay() {
    cd "$playlists_dir" || exit 1
    clear
    _TitlesListCompare -l

    [[ -f $CHOOSE1 ]] && rm "$CHOOSE1"

    read -rsn 1 \
    -p "${info}"" [B]ack to menu, Play all items as [A]udio, [V]ideo or ${b}[S]elect:${nb} ""${nc}" choice
    
    case "$choice" in
        a|A)
            _LoadAudioVideo -la
        ;;
        b|B)
            _Menu 
        ;;
        v|V)
            _LoadAudioVideo -lv
        ;;
        s|S)
            __
            _GetRange
            rm "$SELECTEDTITLES"
            unset IFS
            __
            read -rsn 1 -p "${info}"' load [A]udio, [V]ideo: '"${nc}" load
            case "$load" in
                a|A)
                    _LoadAudioVideo -ca
                ;;
                v|V)
                    clear
                    _LoadAudioVideo -cv
                ;;
                *)
                    __
                    printf '%s\n' " ${critical}Wrong option $load...${nc}"
                    sleep 3s
                    _LoadPlaylistMenu
                ;;
            esac
        ;;
        *)
            __
            printf '%s\n' " ${critical}Wrong option $choice...${nc}"
            sleep 3s
            _LoadPlaylistMenu
        ;;
    esac
    _Menu
}
